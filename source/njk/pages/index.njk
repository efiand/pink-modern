{% extends "layout.njk" %}

{% macro sliderSlot(block) %}
  {% set mix = 'slider__list' %}
  {% include 'blocks/' + block + '.njk' %}
{% endmacro %}

{% block main %}
  {% set mix = 'page-main__promo' %}
  {% include 'blocks/promo.njk' %}

  {% set mix = 'page-main__features' %}
  {% include 'blocks/features.njk' %}

  {% set slider = {
    mix: 'page-main__reviews',
    heading: data.reviews.heading,
    slot: sliderSlot('reviews'),
    togglers: {
      title: 'Отзыв',
      length: data.reviews.list | length
    }
  } %}
  {% include 'blocks/slider.njk' %}

  {% set slider = {
    mix: 'page-main__tariffs',
    heading: data.tariffs.heading,
    slot: sliderSlot('tariffs'),
    togglers: {
      title: 'Тариф',
      length: data.tariffs.list | length
    },
    mobileOnly: true
  } %}
  {% include 'blocks/slider.njk' %}

  {% set mix = 'page-main__footer' %}
  {% include 'blocks/contacts.njk' %}
{% endblock %}
